/*
 * Copyright (C) 2012-2015 NS Solutions Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function() {

	var COLORS = ['#1BA466', '#1E98B9', '#B2CF3E', '#7379AE', '#C23685', '#E06A3B', '#91DBB9',
			'#EEF5D3', '#FFFBD5', '#FCF1D3', '#F6D4D8', '#F3D1E5', '#EDD0E5', '#DEDFEF', '#CBE6F3',
			'#C9E8F1', '#68CFC3', '#81D674', '#EBF182', '#FBE481', '#EDA184', '#DF81A2', '#D27EB3',
			'#B492CC', '#8BA7D5', '#6CBAD8'];
	
	TEST_DATA = JSON.parse('[{"label":"データ1","val":312.0442959945649},{"label":"データ2","val":425.43745362199843},{"label":"データ3","val":321.6290207579732},{"label":"データ4","val":483.88117770664394},{"label":"データ5","val":473.4405956696719},{"label":"データ6","val":483.7342905346304},{"label":"データ7","val":474.0945876110345},{"label":"データ8","val":458.6597021203488},{"label":"データ9","val":348.6947324126959},{"label":"データ10","val":493.7234071549028},{"label":"データ11","val":330.68660576827824},{"label":"データ12","val":411.5062151104212},{"label":"データ13","val":345.88060872629285},{"label":"データ14","val":349.36646185815334},{"label":"データ15","val":367.80036110430956},{"label":"データ16","val":308.8465001899749},{"label":"データ17","val":375.8689895737916},{"label":"データ18","val":379.02169371955097},{"label":"データ19","val":436.41926161944866},{"label":"データ20","val":313.5060131549835},{"label":"データ21","val":415.16350768506527},{"label":"データ22","val":458.94036162644625},{"label":"データ23","val":394.614707166329},{"label":"データ24","val":427.7911347337067},{"label":"データ25","val":367.22936700098217},{"label":"データ26","val":441.0835821181536},{"label":"データ27","val":440.7228557392955},{"label":"データ28","val":368.3067779522389},{"label":"データ29","val":467.82928253524005},{"label":"データ30","val":464.2861805856228},{"label":"データ31","val":409.7388077992946},{"label":"データ32","val":324.20820905826986},{"label":"データ33","val":374.16116800159216},{"label":"データ34","val":425.2834127750248},{"label":"データ35","val":332.53776547499},{"label":"データ36","val":336.7337846662849},{"label":"データ37","val":368.10768502764404},{"label":"データ38","val":462.7127511892468},{"label":"データ39","val":390.3369502630085},{"label":"データ40","val":486.3108397461474},{"label":"データ41","val":490.80733275040984},{"label":"データ42","val":366.37413958087564},{"label":"データ43","val":451.92792462185025},{"label":"データ44","val":337.89624138735235},{"label":"データ45","val":364.7898740135133},{"label":"データ46","val":452.82186986878514},{"label":"データ47","val":459.2535509727895},{"label":"データ48","val":472.36520177684724},{"label":"データ49","val":453.7731346208602},{"label":"データ50","val":456.0864151455462},{"label":"データ51","val":358.55399733409286},{"label":"データ52","val":417.9301530122757},{"label":"データ53","val":377.3698912002146},{"label":"データ54","val":480.4435682948679},{"label":"データ55","val":477.63700843788683},{"label":"データ56","val":339.681096887216},{"label":"データ57","val":360.4337554425001},{"label":"データ58","val":480.1936619449407},{"label":"データ59","val":361.07574198395014},{"label":"データ60","val":328.74189345166087},{"label":"データ61","val":325.23994934745133},{"label":"データ62","val":349.7190452646464},{"label":"データ63","val":489.78622420690954},{"label":"データ64","val":351.0496840812266},{"label":"データ65","val":325.1680296380073},{"label":"データ66","val":490.3225685004145},{"label":"データ67","val":373.35286610759795},{"label":"データ68","val":489.83573061414063},{"label":"データ69","val":437.9220428876579},{"label":"データ70","val":470.4271282069385},{"label":"データ71","val":308.17714035511017},{"label":"データ72","val":354.02306695468724},{"label":"データ73","val":322.8182591497898},{"label":"データ74","val":323.27975085936487},{"label":"データ75","val":423.19841501303017},{"label":"データ76","val":337.6958708744496},{"label":"データ77","val":380.3787828423083},{"label":"データ78","val":311.238959338516},{"label":"データ79","val":317.51189776696265},{"label":"データ80","val":426.17679769173265},{"label":"データ81","val":438.7471483554691},{"label":"データ82","val":309.17638703249395},{"label":"データ83","val":337.89216838777065},{"label":"データ84","val":470.4929215833545},{"label":"データ85","val":491.16727435030043},{"label":"データ86","val":454.75948699750006},{"label":"データ87","val":433.74944012612104},{"label":"データ88","val":444.0729334950447},{"label":"データ89","val":326.7333628144115},{"label":"データ90","val":487.7896842546761},{"label":"データ91","val":304.5323939528316},{"label":"データ92","val":461.1070797313005},{"label":"データ93","val":430.64663452096283},{"label":"データ94","val":487.23067878745496},{"label":"データ95","val":463.87779926881194},{"label":"データ96","val":441.9690251816064},{"label":"データ97","val":424.0414420608431},{"label":"データ98","val":356.75206296145916},{"label":"データ99","val":345.4290363006294},{"label":"データ100","val":390.869936067611},{"label":"データ101","val":483.10271785594523},{"label":"データ102","val":461.57779288478196},{"label":"データ103","val":353.3456152770668},{"label":"データ104","val":349.8728868085891},{"label":"データ105","val":303.7039778660983},{"label":"データ106","val":456.8547900300473},{"label":"データ107","val":383.11154493130744},{"label":"データ108","val":389.77957824245095},{"label":"データ109","val":395.1683498453349},{"label":"データ110","val":367.96050425618887},{"label":"データ111","val":437.6754001248628},{"label":"データ112","val":380.01897423528135},{"label":"データ113","val":446.0076618473977},{"label":"データ114","val":396.6531445272267},{"label":"データ115","val":379.72663226537406},{"label":"データ116","val":352.49483780935407},{"label":"データ117","val":375.8834130130708},{"label":"データ118","val":466.144480323419},{"label":"データ119","val":493.5696540866047},{"label":"データ120","val":356.8157495930791},{"label":"データ121","val":320.04445460624993},{"label":"データ122","val":307.9675370827317},{"label":"データ123","val":316.05106205679476},{"label":"データ124","val":469.1651207394898},{"label":"データ125","val":350.0695204362273},{"label":"データ126","val":457.05173653550446},{"label":"データ127","val":317.35037439502776},{"label":"データ128","val":350.06145113147795},{"label":"データ129","val":305.23783513344824},{"label":"データ130","val":333.57525672763586},{"label":"データ131","val":411.59256398677826},{"label":"データ132","val":487.32581748627126},{"label":"データ133","val":364.35260525904596},{"label":"データ134","val":425.6139717064798},{"label":"データ135","val":327.3665342014283},{"label":"データ136","val":327.5359036400914},{"label":"データ137","val":326.7817011103034},{"label":"データ138","val":336.09684868715703},{"label":"データ139","val":321.70034530572593},{"label":"データ140","val":324.83770665712655},{"label":"データ141","val":484.71852629445493},{"label":"データ142","val":350.67948303185403},{"label":"データ143","val":465.96701708622277},{"label":"データ144","val":495.2881089411676},{"label":"データ145","val":389.84895991161466},{"label":"データ146","val":491.5645860135555},{"label":"データ147","val":385.5870700906962},{"label":"データ148","val":478.1613289844245},{"label":"データ149","val":322.55091429688036},{"label":"データ150","val":315.39184651337564},{"label":"データ151","val":388.169824751094},{"label":"データ152","val":379.31414619088173},{"label":"データ153","val":322.02915917150676},{"label":"データ154","val":479.23239623196423},{"label":"データ155","val":418.2048664893955},{"label":"データ156","val":362.6559373456985},{"label":"データ157","val":413.70396204292774},{"label":"データ158","val":371.37620439752936},{"label":"データ159","val":413.72803980484605},{"label":"データ160","val":413.96138495765626},{"label":"データ161","val":407.3743006680161},{"label":"データ162","val":467.3887324985117},{"label":"データ163","val":496.67085292749107},{"label":"データ164","val":315.7455500680953},{"label":"データ165","val":418.7646961770952},{"label":"データ166","val":386.925661098212},{"label":"データ167","val":358.2913241814822},{"label":"データ168","val":466.9082807842642},{"label":"データ169","val":444.5263451896608},{"label":"データ170","val":334.3090919777751},{"label":"データ171","val":310.50205626524985},{"label":"データ172","val":444.25045368261635},{"label":"データ173","val":484.1676302719861},{"label":"データ174","val":479.35569579713047},{"label":"データ175","val":318.7630525790155},{"label":"データ176","val":431.9370179437101},{"label":"データ177","val":322.88160850293934},{"label":"データ178","val":445.1794620603323},{"label":"データ179","val":469.6491099894047},{"label":"データ180","val":479.258322250098},{"label":"データ181","val":354.02607303112745},{"label":"データ182","val":424.9103887472302},{"label":"データ183","val":414.16705502197146},{"label":"データ184","val":352.02665948309004},{"label":"データ185","val":366.80913190357387},{"label":"データ186","val":482.0624006912112},{"label":"データ187","val":492.0487742871046},{"label":"データ188","val":359.6452778670937},{"label":"データ189","val":326.1288661044091},{"label":"データ190","val":369.9691001791507},{"label":"データ191","val":423.94232926890254},{"label":"データ192","val":376.19934254325926},{"label":"データ193","val":408.2126162480563},{"label":"データ194","val":388.3788986131549},{"label":"データ195","val":346.42806802876294},{"label":"データ196","val":392.15638735331595},{"label":"データ197","val":448.1434576679021},{"label":"データ198","val":316.2264358717948},{"label":"データ199","val":499.07736615277827},{"label":"データ200","val":432.4366686400026},{"label":"データ201","val":341.26758449710906},{"label":"データ202","val":360.05648761056364},{"label":"データ203","val":312.7763058524579},{"label":"データ204","val":443.61206656321883},{"label":"データ205","val":384.94685837067664},{"label":"データ206","val":310.0978171918541},{"label":"データ207","val":340.0942015927285},{"label":"データ208","val":397.4931525066495},{"label":"データ209","val":481.9662193302065},{"label":"データ210","val":339.748092694208},{"label":"データ211","val":372.13318976573646},{"label":"データ212","val":439.1347880475223},{"label":"データ213","val":482.253683404997},{"label":"データ214","val":323.38282144628465},{"label":"データ215","val":337.849107850343},{"label":"データ216","val":304.07780800014734},{"label":"データ217","val":421.39943349175155},{"label":"データ218","val":323.7534421030432},{"label":"データ219","val":378.9133810903877},{"label":"データ220","val":496.2687391322106},{"label":"データ221","val":428.34434057585895},{"label":"データ222","val":354.39254492521286},{"label":"データ223","val":413.6845412198454},{"label":"データ224","val":438.96425925195217},{"label":"データ225","val":412.38548094406724},{"label":"データ226","val":422.34922060742974},{"label":"データ227","val":465.76421055942774},{"label":"データ228","val":428.45216570422053},{"label":"データ229","val":326.8350734375417},{"label":"データ230","val":354.2793632019311},{"label":"データ231","val":349.8999734874815},{"label":"データ232","val":399.1692594718188},{"label":"データ233","val":492.39737717434764},{"label":"データ234","val":409.4846638850868},{"label":"データ235","val":309.9943551234901},{"label":"データ236","val":476.0579905938357},{"label":"データ237","val":390.7733798958361},{"label":"データ238","val":358.299951069057},{"label":"データ239","val":433.0369166098535},{"label":"データ240","val":342.107096221298},{"label":"データ241","val":491.60087052732706},{"label":"データ242","val":432.732575153932},{"label":"データ243","val":476.46086872555315},{"label":"データ244","val":487.60071797296405},{"label":"データ245","val":389.3100320827216},{"label":"データ246","val":405.3653784096241},{"label":"データ247","val":455.3449050989002},{"label":"データ248","val":374.5993104297668},{"label":"データ249","val":329.67533245682716},{"label":"データ250","val":366.05760091915727},{"label":"データ251","val":485.1848527789116},{"label":"データ252","val":380.56806749664247},{"label":"データ253","val":363.25242668390274},{"label":"データ254","val":332.8723160549998},{"label":"データ255","val":372.2171578556299},{"label":"データ256","val":377.8908044565469},{"label":"データ257","val":476.83350732550025},{"label":"データ258","val":385.34365058876574},{"label":"データ259","val":472.25203085690737},{"label":"データ260","val":397.5822580046952},{"label":"データ261","val":313.99577180854976},{"label":"データ262","val":463.21406909264624},{"label":"データ263","val":399.25364744849503},{"label":"データ264","val":464.2190990038216},{"label":"データ265","val":380.36461933515966},{"label":"データ266","val":470.9292709827423},{"label":"データ267","val":371.16810511797667},{"label":"データ268","val":487.8939829301089},{"label":"データ269","val":442.569511430338},{"label":"データ270","val":470.21562857553363},{"label":"データ271","val":312.8554631024599},{"label":"データ272","val":304.5222496148199},{"label":"データ273","val":392.88875232450664},{"label":"データ274","val":442.1798259951174},{"label":"データ275","val":401.1094168294221},{"label":"データ276","val":312.5362411607057},{"label":"データ277","val":308.0743146594614},{"label":"データ278","val":439.79730610735714},{"label":"データ279","val":404.6601617243141},{"label":"データ280","val":358.87608816847205},{"label":"データ281","val":436.24004679732025},{"label":"データ282","val":316.619186475873},{"label":"データ283","val":338.7724478263408},{"label":"データ284","val":319.222560338676},{"label":"データ285","val":446.7388584744185},{"label":"データ286","val":385.4943127371371},{"label":"データ287","val":360.1100655272603},{"label":"データ288","val":460.3382767178118},{"label":"データ289","val":380.09185097180307},{"label":"データ290","val":372.7991133928299},{"label":"データ291","val":445.2902093529701},{"label":"データ292","val":464.21666857786477},{"label":"データ293","val":338.00610583275557},{"label":"データ294","val":349.0061093121767},{"label":"データ295","val":472.8966482914984},{"label":"データ296","val":397.47786363586783},{"label":"データ297","val":443.3858607430011},{"label":"データ298","val":336.53457569889724},{"label":"データ299","val":422.0963920932263},{"label":"データ300","val":477.9712187126279}]');
	
	var colorsIndex = 0;
	
	h5.u.obj.expose('ui.sample.chart', {
		/**
		 * データ生成関数
		 */
		createChartDummyData: function(dataSize, median, vibration) {
			var chunkNum = parseInt(dataSize / TEST_DATA.length);
			
			var ret = [];
			for (var i = 0; i < chunkNum; i++) {
				ret = ret.concat(TEST_DATA);
			}
			
			ret = ret.concat(TEST_DATA.slice(0, dataSize % TEST_DATA.length));
			
			return ret;
		},

		/**
		 * 色をランダムに指定
		 */
		getRandomColor: function () {
			var color = COLORS[colorsIndex];
			colorsIndex ++;
			if (colorsIndex >= COLORS.length) {
				colorsIndex = 0;
			}
			return color;
		},

		createFillObj: function (name) {
			return {
				id: 'grad_' + name,
				x1: '0%',
				y1: '0%',
				x2: '0%',
				y2: '100%',
				stops: [{
					offset: '0%',
					color: ui.sample.chart.getRandomColor()
				}, {
					offset: '100%',
					color: '#fff'
				}]
			};
		}		
	});
})();